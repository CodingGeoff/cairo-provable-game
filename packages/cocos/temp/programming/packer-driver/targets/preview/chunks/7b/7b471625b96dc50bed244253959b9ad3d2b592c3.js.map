{"version":3,"sources":["file:///Users/ruoyan/Desktop/WorkSpace/cairo-provable-game/packages/cocos/assets/script/scenes/Home/Canvas/HomeBuildings.ts"],"names":["_decorator","Component","Node","screen","getConfig","ccclass","property","HomeBuildings","$FrameSize","$lastPositionX","start","config","node","on","EventType","TOUCH_MOVE","onNodeTouchMove","TOUCH_END","onNodeTouchEnd","windowSize","onDestroy","off","event","currentPositionX","touch","getLocationX","positionX","position","x","Math","abs","width","setPosition","y","z","OpenLevelMap","OpenShopMap","OpenCourageMap","OpenDrawCard","OpenConquer"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAoCC,MAAAA,S,OAAAA,S;AAA6BC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;;AAEvEC,MAAAA,S,iBAAAA,S;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;+BAGjBO,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb,SACmCN,SADnC,CAC6C;AAAA;AAAA;AAAA,eAgBjCO,UAhBiC;AAkBzC;AAlByC,eAmBjCC,cAnBiC,GAmBhB,CAAC,CAnBe;AAAA;;AACzBC,QAAAA,KAAK,GAAG;AAAA;;AAAA;AACpB,gBAAMC,MAAM,GAAG;AAAA;AAAA,yCAAf,CADoB,CAEpB;;AACA,YAAA,KAAI,CAACC,IAAL,CAAUC,EAAV,CAAaX,IAAI,CAACY,SAAL,CAAeC,UAA5B,EAAyC,KAAI,CAACC,eAA9C,EAAgE,KAAhE;;AACA,YAAA,KAAI,CAACJ,IAAL,CAAUC,EAAV,CAAaX,IAAI,CAACY,SAAL,CAAeG,SAA5B,EAAwC,KAAI,CAACC,cAA7C,EAA8D,KAA9D,EAJoB,CAKpB;;;AACA,YAAA,KAAI,CAACV,UAAL,GAAkBL,MAAM,CAACgB,UAAzB;AANoB;AAOvB;;AAESC,QAAAA,SAAS,GAAS;AACxB;AACA,eAAKR,IAAL,CAAUS,GAAV,CAAcnB,IAAI,CAACY,SAAL,CAAeC,UAA7B,EAA0C,KAAKC,eAA/C,EAAiE,IAAjE;AACA,eAAKJ,IAAL,CAAUS,GAAV,CAAcnB,IAAI,CAACY,SAAL,CAAeG,SAA7B,EAAyC,KAAKC,cAA9C,EAA+D,IAA/D;AACH;;AAMOF,QAAAA,eAAe,CAACM,KAAD,EAAoB;AACvC,cAAMC,gBAAgB,GAAGD,KAAK,CAACE,KAAN,CAAYC,YAAZ,EAAzB;;AACA,cAAI,KAAKhB,cAAL,KAAwB,CAAC,CAA7B,EAAgC;AAC5B,gBAAMiB,SAAS,GAAG,KAAKd,IAAL,CAAUe,QAAV,CAAmBC,CAAnB,GAAuB,CAACL,gBAAgB,GAAG,KAAKd,cAAzB,IAA2C,GAApF;AACA,gBAAIoB,IAAI,CAACC,GAAL,CAASJ,SAAT,KAAuB,CAAC,OAAO,KAAKlB,UAAL,CAAgBuB,KAAxB,IAAiC,CAA5D,EACI,KAAKnB,IAAL,CAAUoB,WAAV,CACIN,SADJ,EAEI,KAAKd,IAAL,CAAUe,QAAV,CAAmBM,CAFvB,EAGI,KAAKrB,IAAL,CAAUe,QAAV,CAAmBO,CAHvB;AAKP;;AACD,eAAKzB,cAAL,GAAsBc,gBAAtB;AACA;AACH;;AACOL,QAAAA,cAAc,GAAG;AACrB,eAAKT,cAAL,GAAsB,CAAC,CAAvB;AACH,SApCwC,CAsCzC;;;AACa0B,QAAAA,YAAY,GAAG;AAAA;AAC3B,SAxCwC,CA0CzC;;;AACaC,QAAAA,WAAW,GAAG;AAAA;AAC1B,SA5CwC,CA8CzC;;;AACaC,QAAAA,cAAc,GAAG;AAAA;AAC7B,SAhDwC,CAkDzC;;;AACaC,QAAAA,YAAY,GAAG;AAAA;AAC3B,SApDwC,CAsDzC;;;AACaC,QAAAA,WAAW,GAAG;AAAA;AAC1B;;AAxDwC,O","sourcesContent":["import { _decorator, AudioClip, AudioSource, Component, EventTouch, math, Node, screen } from 'cc';\nimport { util } from '../../../util/util';\nimport { getConfig } from '../../../common/config/config';\nconst { ccclass, property } = _decorator;\n\n@ccclass('HomeBuildings')\nexport class HomeBuildings extends Component {\n    protected async start() {\n        const config = getConfig()\n        // 触摸事件开始\n        this.node.on(Node.EventType.TOUCH_MOVE , this.onNodeTouchMove , this)\n        this.node.on(Node.EventType.TOUCH_END , this.onNodeTouchEnd , this)\n        // 初始化宽度\n        this.$FrameSize = screen.windowSize\n    }\n\n    protected onDestroy(): void {\n        // 触摸事件销毁\n        this.node.off(Node.EventType.TOUCH_MOVE , this.onNodeTouchMove , this)\n        this.node.off(Node.EventType.TOUCH_END , this.onNodeTouchEnd , this)\n    }\n\n    private $FrameSize: math.Size\n\n    // 触摸移动场景\n    private $lastPositionX = -1\n    private onNodeTouchMove(event: EventTouch) {\n        const currentPositionX = event.touch.getLocationX()\n        if (this.$lastPositionX !== -1) {\n            const positionX = this.node.position.x + (currentPositionX - this.$lastPositionX) * 0.9\n            if (Math.abs(positionX) <= (1826 - this.$FrameSize.width) / 2)\n                this.node.setPosition(\n                    positionX ,\n                    this.node.position.y ,\n                    this.node.position.z\n                )\n        }\n        this.$lastPositionX = currentPositionX\n        return\n    }\n    private onNodeTouchEnd() {\n        this.$lastPositionX = -1\n    }\n\n    // 打开关卡选择场景\n    public async OpenLevelMap() {\n    }\n\n    // 打开商店场景\n    public async OpenShopMap() {\n    }\n\n    // 打开勇气试炼\n    public async OpenCourageMap() {\n    }\n\n    // 打开抽卡界面\n    public async OpenDrawCard() {\n    }\n\n    // 打开征服之塔\n    public async OpenConquer() {\n    }\n}\n\n"]}