{"version":3,"sources":["file:///Users/ruoyan/Desktop/WorkSpace/LegendOfWarcraftHeroes/assets/script/game/fight/buff/BuffState.ts"],"names":["BuffState","BasicState","BuffEnum","constructor","create","option","meta","id","character","state","Map","OnCreate","OnAddToCharacter","OnDeleteFromCharacter","GetOnCreate","GetOnAddToCharacter","GetOnDeleteFromCharacter"],"mappings":";;;oDAWaA,S;;;;;;;;;;;;;;;;;;;;;;;;;;AAVJC,MAAAA,U,iBAAAA,U;;AAEAC,MAAAA,Q,iBAAAA,Q;;;;;;;2BAQIF,S,GAAN,MAAMA,SAAN;AAAA;AAAA,oCAAkD;AAQrD;AACAG,QAAAA,WAAW,CAACC,MAAD,EAA2BC,MAA3B,EAAyC;AAChD,cAAMC,IAAI,GAAG;AAAA;AAAA,oCAASF,MAAM,CAACG,EAAhB,CAAb;AACA,gBAAMD,IAAN;AATJ;AAOoD,eANpDE,SAMoD,GANxB,IAMwB;AAJpD;AAIoD,eAHpDC,KAGoD,GAHzB,IAAIC,GAAJ,EAGyB;AAWpD;AAXoD,eAYpDC,QAZoD;AAapD;AAboD,eAcpDC,gBAdoD;AAepD;AAfoD,eAgBpDC,qBAhBoD;AAIhD,eAAKF,QAAL,GAAgBL,IAAI,CAACQ,WAAL,EAAhB;AACA,eAAKF,gBAAL,GAAwBN,IAAI,CAACS,mBAAL,EAAxB;AACA,eAAKF,qBAAL,GAA6BP,IAAI,CAACU,wBAAL,EAA7B;AAEA,eAAKL,QAAL,CAAc,IAAd,EAAqBN,MAArB;AACH;;AAlBoD,O","sourcesContent":["import { BasicMetaState } from \"../BasicMetaState\";\nimport { BasicState } from \"../BasicState\";\nimport { CharacterState } from \"../character/CharacterState\";\nimport { BuffEnum } from \"./BuffEnum\";\nimport { BuffMetaState } from \"./BuffMetaState\";\n\nexport type BuffStateCreate = {\n    // id\n    id: string\n}\n\nexport class BuffState extends BasicState<BuffMetaState> {\n\n    // 对应的角色\n    character: CharacterState = null\n\n    // 存储状态\n    state: Map<string , any> = new Map\n\n    // 构造器\n    constructor(create: BuffStateCreate , option?: any) {\n        const meta = BuffEnum[create.id]\n        super(meta)\n\n        this.OnCreate = meta.GetOnCreate()\n        this.OnAddToCharacter = meta.GetOnAddToCharacter()\n        this.OnDeleteFromCharacter = meta.GetOnDeleteFromCharacter()\n\n        this.OnCreate(this , option)\n    }\n\n    // 创建时的函数\n    OnCreate: (self: BuffState , option: any) => Promise<void> \n    // 添加到角色时的回调\n    OnAddToCharacter: (self: BuffState) => Promise<void>\n    // buff从角色中移除的回调\n    OnDeleteFromCharacter:  (self: BuffState) => Promise<void>\n}"]}