{"version":3,"sources":["file:///Users/ruoyan/Desktop/WorkSpace/cairo-provable-game/packages/cocos/assets/script/util/message/confirm.ts"],"names":["preloadConfirm","nodePool","Prefab","node","get","put","confirm","co","parent","find","addChild","holConfirmMessage","getComponent","Promise","res","setContent","listen","closeConfirm","HolConfirmMessage","load","getNodePool"],"mappings":";;;;;;;;;AAWA;WANsBA,c;;;;;wCAAf,aAAgC;AACnC,UAAMC,QAAQ,GAAG;AAAA;AAAA,4CAAkB;AAAA;AAAA,wBAAK,0BAAL,EAAkCC,MAAlC,CAAlB,CAAjB;AACI,UAAMC,IAAI,GAAGF,QAAQ,CAACG,GAAT,EAAb;AACAH,MAAAA,QAAQ,CAACI,GAAT,CAAaF,IAAb;AACP,K;;;;WAGqBG,O;;;;;iCAAf,WAAuBC,EAAvB,EAA2CC,MAA3C,EAA4F;AAAA,UAAjDA,MAAiD;AAAjDA,QAAAA,MAAiD,GAAlCC,IAAI,CAAC,QAAD,CAA8B;AAAA;;AAC/F,UAAMR,QAAQ,GAAG;AAAA;AAAA,4CAAkB;AAAA;AAAA,wBAAK,0BAAL,EAAkCC,MAAlC,CAAlB,CAAjB;AACA,UAAMC,IAAI,GAAGF,QAAQ,CAACG,GAAT,EAAb;AACAI,MAAAA,MAAM,CAACE,QAAP,CAAgBP,IAAhB;AACA,UAAMQ,iBAAiB,GAAGR,IAAI,CAACS,YAAL;AAAA;AAAA,iDAA1B;AACA,aAAO,IAAIC,OAAJ,CAAYC,GAAG,IAAI;AACtBH,QAAAA,iBAAiB,CAACI,UAAlB,CAA6BR,EAA7B;AACAI,QAAAA,iBAAiB,CAACK,MAAlB,CAAyB,MAAzB,EAAkC,MAAM;AACpCF,UAAAA,GAAG,CAAC,IAAD,CAAH;AACAH,UAAAA,iBAAiB,CAACM,YAAlB;AACH,SAHD;AAIAN,QAAAA,iBAAiB,CAACK,MAAlB,CAAyB,QAAzB,EAAoC,MAAM;AACtCF,UAAAA,GAAG,CAAC,KAAD,CAAH;AACAH,UAAAA,iBAAiB,CAACM,YAAlB;AACH,SAHD;AAIAN,QAAAA,iBAAiB,CAACK,MAAlB,CAAyB,OAAzB,EAAmC,MAAMf,QAAQ,CAACI,GAAT,CAAaF,IAAb,CAAzC;AACH,OAXM,CAAP;AAYH,K;;;;;;;;;;;;;;;;;;;;;oBAxBqBH,c;aAOAM;;;;;;;;;;AAZbJ,MAAAA,M,OAAAA,M;AAAQO,MAAAA,I,OAAAA,I;;AACOS,MAAAA,iB,iBAAAA,iB;;AACfC,MAAAA,I,iBAAAA,I;;AACAC,MAAAA,W,iBAAAA,W","sourcesContent":["import { Prefab, find , Node} from \"cc\";\nimport { ContentOption, HolConfirmMessage } from \"../../prefab/HolConfirmMessage\";\nimport { load } from \"../bundle/load\";\nimport { getNodePool } from \"../resource/getNodePool\";\n\nexport async function preloadConfirm() {\n    const nodePool = getNodePool(await load(\"prefab/HolConfirmMessage\" , Prefab))\n        const node = nodePool.get()\n        nodePool.put(node)\n}\n\n// 弹出消息 返回一个Promise 确认的话返回 true 否则返回 false\nexport async function confirm(co: ContentOption , parent: Node = find(\"Canvas\")): Promise<boolean> {\n    const nodePool = getNodePool(await load(\"prefab/HolConfirmMessage\" , Prefab))\n    const node = nodePool.get()\n    parent.addChild(node)\n    const holConfirmMessage = node.getComponent(HolConfirmMessage)\n    return new Promise(res => {\n        holConfirmMessage.setContent(co)\n        holConfirmMessage.listen(\"sure\" , () => {\n            res(true)\n            holConfirmMessage.closeConfirm()\n        })\n        holConfirmMessage.listen(\"cancel\" , () => {\n            res(false)\n            holConfirmMessage.closeConfirm()\n        })\n        holConfirmMessage.listen(\"close\" , () => nodePool.put(node))\n    })\n}"]}