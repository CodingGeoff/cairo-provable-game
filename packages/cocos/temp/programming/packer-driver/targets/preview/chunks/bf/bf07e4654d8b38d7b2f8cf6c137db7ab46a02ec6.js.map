{"version":3,"sources":["file:///Users/ruoyan/Desktop/WorkSpace/LegendOfWarcraftHeroes/assets/script/scenes/Hero/Canvas/HeroAllHeros.ts"],"names":["_decorator","Component","util","getConfig","HolCharactersQueue","HeroCharacterDetail","ccclass","property","HeroAllHeros","start","config","close","message","load","cahracterQueue","userData","characterQueue","forEach","cq","c","push","render","concat","characters","node","getChildByName","getComponent","n","characterDetail","parent","active","setCharacter"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAoBC,MAAAA,S,OAAAA,S;;AACpBC,MAAAA,I,iBAAAA,I;;AACAC,MAAAA,S,iBAAAA,S;;AAGAC,MAAAA,kB,iBAAAA,kB;;AACAC,MAAAA,mB,iBAAAA,mB;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;8BAGjBQ,Y,WADZF,OAAO,CAAC,cAAD,C,gBAAR,MACaE,YADb,SACkCP,SADlC,CAC4C;AAExC;AACgBQ,QAAAA,KAAK,GAAG;AAAA;;AAAA;AACpB;AACA,gBAAMC,MAAM,GAAG;AAAA;AAAA,yCAAf;AACA,gBAAMC,KAAK,SAAS;AAAA;AAAA,8BAAKC,OAAL,CAAaC,IAAb,EAApB;AACA,gBAAMC,cAAc,GAAG,EAAvB;AACAJ,YAAAA,MAAM,CAACK,QAAP,CAAgBC,cAAhB,CAA+BC,OAA/B,CAAuCC,EAAE,IAAIA,EAAE,CAACD,OAAH,CAAWE,CAAC,IAAI;AAAE,kBAAGA,CAAH,EAAML,cAAc,CAACM,IAAf,CAAoBD,CAApB;AAAwB,aAAhD,CAA7C;AACA,kBAAM,KAAI,CAACE,MAAL,CAAY,GAAGC,MAAH,CAAUR,cAAV,EAA2BJ,MAAM,CAACK,QAAP,CAAgBQ,UAA3C,CAAZ,CAAN;AACAZ,YAAAA,KAAK;AAPe;AAQvB;;AAEKU,QAAAA,MAAM,CAACL,cAAD,EAAyC;AAAA;;AAAA;AACjD,kBAAM,MAAI,CAACQ,IAAL,CAAUC,cAAV,CAAyB,oBAAzB,EACLC,YADK;AAAA;AAAA,0DAELL,MAFK,CAEEL,cAFF,iCAEmB,WAAOG,CAAP,EAAWQ,CAAX,EAAiB;AACtC,kBAAMC,eAAe,GAAG,MAAI,CAACJ,IAAL,CAAUK,MAAV,CAAiBJ,cAAjB,CAAgC,iBAAhC,CAAxB;;AACAG,cAAAA,eAAe,CAACE,MAAhB,GAAyB,IAAzB;AACA,oBAAMF,eAAe,CAACF,YAAhB;AAAA;AAAA,8DAAkDK,YAAlD,CAA+DZ,CAA/D,CAAN;AACH,aANK,EAAN;AADiD;AAQpD;;AArBuC,O","sourcesContent":["import { _decorator, Button, Component, Node, Prefab } from 'cc';\nimport { util } from '../../../util/util';\nimport { getConfig } from '../../../common/config/config';\nimport { CharacterStateCreate } from '../../../game/fight/character/CharacterState';\nimport { HolCharacterAvatar } from '../../../prefab/HolCharacterAvatar';\nimport { HolCharactersQueue } from '../../../prefab/HolCharactersQueue';\nimport { HeroCharacterDetail } from './HeroCharacterDetail';\nconst { ccclass, property } = _decorator;\n\n@ccclass('HeroAllHeros')\nexport class HeroAllHeros extends Component {\n\n    // 开始\n    protected async start() {\n        // 第一次渲染所有角色\n        const config = getConfig()\n        const close = await util.message.load()\n        const cahracterQueue = []\n        config.userData.characterQueue.forEach(cq => cq.forEach(c => { if(c) cahracterQueue.push(c) }))\n        await this.render([].concat(cahracterQueue , config.userData.characters))\n        close()\n    }\n\n    async render(characterQueue: CharacterStateCreate[]) {\n        await this.node.getChildByName(\"HolCharactersQueue\")\n        .getComponent(HolCharactersQueue)\n        .render(characterQueue , async (c , n) => {\n            const characterDetail = this.node.parent.getChildByName(\"CharacterDetail\")\n            characterDetail.active = true\n            await characterDetail.getComponent(HeroCharacterDetail).setCharacter(c)\n        })\n    }\n}\n\n"]}