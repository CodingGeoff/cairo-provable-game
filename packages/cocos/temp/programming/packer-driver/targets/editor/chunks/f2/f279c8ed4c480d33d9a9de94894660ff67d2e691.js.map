{"version":3,"sources":["file:///Users/ruoyan/Desktop/WorkSpace/cairo-provable-game/packages/cocos/assets/script/scenes/Hero/Canvas/HeroAllHeros.ts"],"names":["_decorator","Component","util","getConfig","HolCharactersQueue","HeroCharacterDetail","ccclass","property","HeroAllHeros","start","config","close","message","load","cahracterQueue","userData","characterQueue","forEach","cq","c","push","render","concat","characters","node","getChildByName","getComponent","n","characterDetail","parent","active","setCharacter"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAoBC,MAAAA,S,OAAAA,S;;AACpBC,MAAAA,I,iBAAAA,I;;AACAC,MAAAA,S,iBAAAA,S;;AAGAC,MAAAA,kB,iBAAAA,kB;;AACAC,MAAAA,mB,iBAAAA,mB;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;8BAGjBQ,Y,WADZF,OAAO,CAAC,cAAD,C,gBAAR,MACaE,YADb,SACkCP,SADlC,CAC4C;AAExC;AACqB,cAALQ,KAAK,GAAG;AACpB;AACA,gBAAMC,MAAM,GAAG;AAAA;AAAA,uCAAf;AACA,gBAAMC,KAAK,GAAG,MAAM;AAAA;AAAA,4BAAKC,OAAL,CAAaC,IAAb,EAApB;AACA,gBAAMC,cAAc,GAAG,EAAvB;AACAJ,UAAAA,MAAM,CAACK,QAAP,CAAgBC,cAAhB,CAA+BC,OAA/B,CAAuCC,EAAE,IAAIA,EAAE,CAACD,OAAH,CAAWE,CAAC,IAAI;AAAE,gBAAGA,CAAH,EAAML,cAAc,CAACM,IAAf,CAAoBD,CAApB;AAAwB,WAAhD,CAA7C;AACA,gBAAM,KAAKE,MAAL,CAAY,GAAGC,MAAH,CAAUR,cAAV,EAA2BJ,MAAM,CAACK,QAAP,CAAgBQ,UAA3C,CAAZ,CAAN;AACAZ,UAAAA,KAAK;AACR;;AAEW,cAANU,MAAM,CAACL,cAAD,EAAyC;AACjD,gBAAM,KAAKQ,IAAL,CAAUC,cAAV,CAAyB,oBAAzB,EACLC,YADK;AAAA;AAAA,wDAELL,MAFK,CAEEL,cAFF,EAEmB,OAAOG,CAAP,EAAWQ,CAAX,KAAiB;AACtC,kBAAMC,eAAe,GAAG,KAAKJ,IAAL,CAAUK,MAAV,CAAiBJ,cAAjB,CAAgC,iBAAhC,CAAxB;AACAG,YAAAA,eAAe,CAACE,MAAhB,GAAyB,IAAzB;AACA,kBAAMF,eAAe,CAACF,YAAhB;AAAA;AAAA,4DAAkDK,YAAlD,CAA+DZ,CAA/D,CAAN;AACH,WANK,CAAN;AAOH;;AArBuC,O","sourcesContent":["import { _decorator, Button, Component, Node, Prefab } from 'cc';\nimport { util } from '../../../util/util';\nimport { getConfig } from '../../../common/config/config';\nimport { CharacterStateCreate } from '../../../game/fight/character/CharacterState';\nimport { HolCharacterAvatar } from '../../../prefab/HolCharacterAvatar';\nimport { HolCharactersQueue } from '../../../prefab/HolCharactersQueue';\nimport { HeroCharacterDetail } from './HeroCharacterDetail';\nconst { ccclass, property } = _decorator;\n\n@ccclass('HeroAllHeros')\nexport class HeroAllHeros extends Component {\n\n    // 开始\n    protected async start() {\n        // 第一次渲染所有角色\n        const config = getConfig()\n        const close = await util.message.load()\n        const cahracterQueue = []\n        config.userData.characterQueue.forEach(cq => cq.forEach(c => { if(c) cahracterQueue.push(c) }))\n        await this.render([].concat(cahracterQueue , config.userData.characters))\n        close()\n    }\n\n    async render(characterQueue: CharacterStateCreate[]) {\n        await this.node.getChildByName(\"HolCharactersQueue\")\n        .getComponent(HolCharactersQueue)\n        .render(characterQueue , async (c , n) => {\n            const characterDetail = this.node.parent.getChildByName(\"CharacterDetail\")\n            characterDetail.active = true\n            await characterDetail.getComponent(HeroCharacterDetail).setCharacter(c)\n        })\n    }\n}\n\n"]}