{"version":3,"sources":["file:///Users/ruoyan/Desktop/WorkSpace/LegendOfWarcraftHeroes/assets/script/scenes/Fight/Canvas/FightUi.ts"],"names":["_decorator","Component","Label","Node","HolCharacter","util","FightMap","ccclass","property","FightUi","timeScale","setTimeScale","e","node","FightMapNode","children","getComponent","holAnimation","target","getChildByName","string","skipFight","result","message","confirm","isPlayAnimation"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAkBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AACrCC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,I,iBAAAA,I;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;yBAGjBS,O,WADZF,OAAO,CAAC,SAAD,C,UAGHC,QAAQ,CAACL,IAAD,C,2BAHb,MACaM,OADb,SAC6BR,SAD7B,CACuC;AAAA;AAAA;;AAAA;;AAKnC;AALmC,eAM3BS,SAN2B,GAMP,CANO;AAAA;;AAQnC;AACAC,QAAAA,YAAY,CAACC,CAAD,EAAW;AACnB,eAAKF,SAAL;AACA,cAAI,KAAKA,SAAL,GAAiB,CAArB,EAAwB,KAAKA,SAAL,GAAiB,CAAjB;;AACxB,eAAK,MAAMG,IAAX,IAAmB,KAAKC,YAAL,CAAkBC,QAArC,EACIF,IAAI,CAACG,YAAL;AAAA;AAAA,4CAAgCC,YAAhC,CAA6CP,SAA7C,GAAyD,KAAKA,SAA9D;;AACJE,UAAAA,CAAC,CAACM,MAAF,CAASC,cAAT,CAAwB,OAAxB,EAAiCH,YAAjC,CAA8Cd,KAA9C,EAAqDkB,MAArD,GAA8D,MAAM,KAAKV,SAAzE;AACA;AACH,SAhBkC,CAkBnC;;;AACe,cAATW,SAAS,GAAG;AAEd,gBAAMC,MAAM,GAAG,MAAM;AAAA;AAAA,4BAAKC,OAAL,CAAaC,OAAb,CAAqB;AAACD,YAAAA,OAAO,EAAE;AAAV,WAArB,CAArB;;AAEA,cAAID,MAAJ,EAAY;AACR,iBAAKR,YAAL,CAAkBE,YAAlB;AAAA;AAAA,sCAAyCS,eAAzC,GAA2D,KAA3D;AACH;AAEJ;;AA3BkC,O","sourcesContent":["import { _decorator, Component, Event, Label, Node } from 'cc';\nimport { HolCharacter } from '../../../prefab/HolCharacter';\nimport { util } from '../../../util/util';\nimport { FightMap } from './FightMap';\nconst { ccclass, property } = _decorator;\n\n@ccclass('FightUi')\nexport class FightUi extends Component {\n\n    @property(Node)\n    FightMapNode: Node\n\n    // 当前倍速\n    private timeScale: number = 1\n\n    // 倍速\n    setTimeScale(e: Event) {\n        this.timeScale++\n        if (this.timeScale > 3) this.timeScale = 1\n        for (const node of this.FightMapNode.children)\n            node.getComponent(HolCharacter).holAnimation.timeScale = this.timeScale \n        e.target.getChildByName(\"Value\").getComponent(Label).string = \"x\" + this.timeScale\n        return\n    }\n\n    // 跳过战斗\n    async skipFight() {\n\n        const result = await util.message.confirm({message: \"确定要跳过战斗吗?\"})\n\n        if (result) {\n            this.FightMapNode.getComponent(FightMap).isPlayAnimation = false\n        }\n\n    }\n}\n\n"]}