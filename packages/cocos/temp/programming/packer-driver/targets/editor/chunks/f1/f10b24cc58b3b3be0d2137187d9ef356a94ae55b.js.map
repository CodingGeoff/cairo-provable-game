{"version":3,"sources":["file:///Users/ruoyan/Desktop/WorkSpace/LegendOfWarcraftHeroes/assets/script/game/fight_entity/buff/fear.ts"],"names":["math","RegisterBuff","BuffMetaState","Fear","id","name","isDeBuff","introduce","buffIcon","GetBeforeAction","self","actionState","fightMap","randomRange","isPlayAnimation","character","component","showString","canAction"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,I,OAAAA,I;;AAIAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,a,iBAAAA,a;;;;;;;;;AAKHC,MAAAA,I,WADL;AAAA;AAAA,wCAAa;AAACC,QAAAA,EAAE,EAAE;AAAL,OAAb,C,gBAAD,MACMD,IADN;AAAA;AAAA,0CACiC;AAAA;AAAA;AAC7B;AAD6B,eAE7BE,IAF6B,GAEd,IAFc;AAI7B;AAJ6B,eAK7BC,QAL6B,GAKT,IALS;AAAA,eAO7BC,SAP6B,GAOT,gBAPS;AAAA,eAS7BC,QAT6B,GASV,yCATU;AAAA;;AAW7BC,QAAAA,eAAe,GAA0F;AACrG,iBAAO,OAAOC,IAAP,EAAyBC,WAAzB,EAAmDC,QAAnD,KAA0E;AAC7E,gBAAIZ,IAAI,CAACa,WAAL,CAAiB,CAAjB,EAAqB,GAArB,IAA4B,EAAhC,EAAoC;AAChC;AACA,kBAAID,QAAQ,CAACE,eAAb,EAA8B,MAAMJ,IAAI,CAACK,SAAL,CAAeC,SAAf,CAAyBC,UAAzB,CAAoC,IAApC,CAAN,CAFE,CAGhC;;AACAN,cAAAA,WAAW,CAACO,SAAZ,GAAwB,KAAxB;AACH;AACJ,WAPD;AAQH;;AApB4B,O","sourcesContent":["import { math } from \"cc\";\nimport { FightMap } from \"../../../scenes/Fight/Canvas/FightMap\";\nimport { ActionState } from \"../../fight/ActionState\";\nimport { BasicState } from \"../../fight/BasicState\";\nimport { RegisterBuff } from \"../../fight/buff/BuffEnum\";\nimport { BuffMetaState } from \"../../fight/buff/BuffMetaState\";\nimport { BuffState } from \"../../fight/buff/BuffState\";\n\n\n@RegisterBuff({id: \"fear\"})\nclass Fear extends BuffMetaState {\n    // 恐惧buff\n    name: string = \"恐惧\"\n\n    // buff 类型\n    isDeBuff: boolean = true\n\n    introduce: string = \"恐惧后有70%的概率不敢出手\"\n\n    buffIcon: string = \"game/fight_entity/buff/fear/spriteFrame\"\n\n    GetBeforeAction(): (self: BasicState<any>, actionState: ActionState, fightMap: FightMap) => Promise<any> {\n        return async (self: BuffState , actionState: ActionState, fightMap: FightMap) => {\n            if (math.randomRange(0 , 100) < 70) {\n                // 输出文字\n                if (fightMap.isPlayAnimation) await self.character.component.showString(\"恐惧\")\n                // 拒绝行动\n                actionState.canAction = false\n            }\n        }\n    }\n}"]}